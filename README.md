# Тестовая работа
Актуализация данных о пользователях в социальной сети VK.

## Краткое описание работы
Приложение реализовано для версии JVM 13.
Приложение запускается как сервис с использованием встроенного веб-сервера Netty. Во избежании возможного конфликта использования портов
приложение использует порт 8090. Данный компонент был установлен с целью использования Web-клиента в сервисе для взаимодействия с API VK. 
После чего создается 10 потоков где выполняется процесс сбора информации о пользователях VK из таблицы user_info с фиксированием результатов в файле формата Excel.
Для каждого потока создается соответствующая вкладка с именем потока.

## Запуск программы

Для запуска тестового проекта можно использовать следующие способы
<ol>
<li>с помощью maven для этого необходимо войти в корневую папку с проектом и выполнить следующее:
<pre>
mvn spring-boot:run
</pre>
после чего произойдет автоматическая сборка проекта и запуск проекта </li>
<li>Явный запуск через скрипты *.sh, *.bat для OC Ubuntu, Windows соответственно</li>
<pre>
cd dist
../start.bat
</pre>
</ol>

## Конфигурирование параметров работы
Параметры находятся в файле: application-development.properties, копия которого находится в dist/application.properties
<table>
<th>Наименование</th>
<th>Значение</th>
<th>Описание</th>
<tr>
<td>vk.access_token</td>
<td>7fa65d857fa65d857fa65d850f7cb2153c77fa67fa65d851bd3294894247abaa4b73c13</td>
<td>access_key</td></tr>
<tr>
<td>application.countThread</td>
<td>10</td>
<td>Кол-во потоков</td>
</tr>
<tr>
<td>excel.filename</td>
<td>reports/testing.xls</td>
<td>Имя файла с результатами</td>
</tr>
<tr>
<td>vk.base_url</td>
<td>https://api.vk.com/method/users.get</td>
<td>Базовый адрес API для запроса информации о пользователях</td>
</tr>
<tr>
<td>vk.fields</td>
<td>city,contacts,bdate</td>
<td>Поля участвующие в запросе</td>
</tr>
</table>

## Использование БД
В проекте используется СУБД postgres, скрипты для взаимодействия с БД располагаются в папке postgres:
<ol>
<li>postgres_create_table_user_info.sql создание БД vk, таблицы user_info и пользователя vk_user, с паролем vk_user
<li>postgres_insert_userid.sql вставка записей в таблицу user_info
</li>
</ol>